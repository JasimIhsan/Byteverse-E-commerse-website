<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Byteverse | User-management</title>
    <link rel="stylesheet" href="/css/admin/addproduct.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="unique-sidebar">
            <div class="unique-sidebar-header">
                <h2>Byteverse</h2>
            </div>
            <ul class="unique-sidebar-menu">
                <li><a href="/admin/dashboard">Dashboard</a></li>
                <li><a href="#">Users</a></li>
                <li class="active"><a href="#">Products</a></li>
                <li><a href="#">Orders</a></li>
                <li><a href="/admin/category-management">Categories</a></li>
                <li><a href="#">Coupon</a></li>
                <li><a href="#">Offers</a></li>
                <li><a href="#">Support</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </aside>
        <!-- Main Content -->
        <div class="product-list-container">
            <h1>Edit Product</h1>

            <!-- Breadcrumbs -->
            <nav class="breadcrumbs">
                <a href="/admin/dashboard">Dashboard</a>
                <span>&gt;</span>
                <a href="/admin/product-management">Product-Management</a>
                <span>&gt;</span>
                <a href="#">Edit-product</a>
            </nav>

            <form id="product-form" enctype="multipart/form-data" method="POST" action="/admin/product-management/edit-product/<%= product._id %>">
                <div class="form-group">
                    <label for="name">Product Name:</label>
                    <input type="text" id="name" name="name" value="<%= product.name %>" required>
                </div>
                <div class="form-group">
                    <label for="brand">Brand:</label>
                    <select id="brand" name="brand" required>
                        <option value="" disabled>Select a brand</option>
                        <% ["Apple", "Dell", "HP", "Lenovo", "Asus", "Acer", "Microsoft", "MSI", "Razer", "Samsung", "Toshiba", "Sony", "Huawei", "Xiaomi", "Alienware", "Gigabyte", "LG"].forEach(function(brand) { %>
                            <option value="<%= brand %>" <%= product.brand === brand ? 'selected' : '' %>><%= brand %></option>
                        <% }); %>
                    </select>
                </div>
                <div class="form-group">
                    <label for="category">Category:</label>
                    <select id="category" name="category" required>
                        <option value="" disabled>Select a category</option>
                        <% categories.forEach(function(category) { %>
                            <option value="<%= category._id %>" <%= product.category.toString() === category._id.toString() ? 'selected' : '' %>><%= category.name %></option>
                        <% }); %>
                    </select>
                </div>
                <div class="form-group">
                    <label for="price">Price:</label>
                    <input type="number" id="price" name="price" value="<%= product.price %>" required>
                </div>
                <div class="form-group">
                    <label for="stock">Stock:</label>
                    <input type="number" id="stock" name="stock" value="<%= product.stock %>" required>
                </div>
                <div class="form-group">
                    <label for="processor-brand">Processor Brand:</label>
                    <select id="processor-brand" name="specifications[processor][brand]" required>
                        <option value="" disabled>Select a processor brand</option>
                        <option value="Intel" <%= product.specifications.processor.brand === 'Intel' ? 'selected' : '' %>>Intel</option>
                        <option value="AMD" <%= product.specifications.processor.brand === 'AMD' ? 'selected' : '' %>>AMD</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="processor-model">Processor Model:</label>
                    <input type="text" id="processor-model" name="specifications[processor][model]" value="<%= product.specifications.processor.model %>" required>
                </div>
                <div class="form-group">
                    <label for="processor-cores">Processor Cores:</label>
                    <input type="number" id="processor-cores" name="specifications[processor][cores]" value="<%= product.specifications.processor.cores %>" required>
                </div>
                <div class="form-group">
                    <label for="processor-speed">Processor Speed:</label>
                    <input type="text" id="processor-speed" name="specifications[processor][speed]" value="<%= product.specifications.processor.speed %>" required>
                </div>
                <div class="form-group">
                    <label for="ram-size">RAM Size (GB):</label>
                    <select id="ram-size" name="specifications[ram][size]" required>
                        <option value="" disabled>Select RAM size</option>
                        <option value="4" <%= product.specifications.ram.size == '4' ? 'selected' : '' %>>4 GB</option>
                        <option value="8" <%= product.specifications.ram.size == '8' ? 'selected' : '' %>>8 GB</option>
                        <option value="16" <%= product.specifications.ram.size == '16' ? 'selected' : '' %>>16 GB</option>
                        <option value="32" <%= product.specifications.ram.size == '32' ? 'selected' : '' %>>32 GB</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="ram-type">RAM Type:</label>
                    <select id="ram-type" name="specifications[ram][type]" required>
                        <option value="" disabled>Select RAM type</option>
                        <option value="DDR4" <%= product.specifications.ram.type === 'DDR4' ? 'selected' : '' %>>DDR4</option>
                        <option value="DDR5" <%= product.specifications.ram.type === 'DDR5' ? 'selected' : '' %>>DDR5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="storage-type">Storage Type:</label>
                    <select id="storage-type" name="specifications[storage][type]" required>
                        <option value="" disabled>Select storage type</option>
                        <option value="SSD" <%= product.specifications.storage.type === 'SSD' ? 'selected' : '' %>>SSD</option>
                        <option value="HDD" <%= product.specifications.storage.type === 'HDD' ? 'selected' : '' %>>HDD</option>
                        <option value="Hybrid" <%= product.specifications.storage.type === 'Hybrid' ? 'selected' : '' %>>Hybrid</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="storage-capacity">Storage Capacity:</label>
                    <select id="storage-capacity" name="specifications[storage][capacity]" required>
                        <option value="" disabled>Select storage capacity</option>
                        <option value="256GB" <%= product.specifications.storage.capacity === '256GB' ? 'selected' : '' %>>256 GB</option>
                        <option value="512GB" <%= product.specifications.storage.capacity === '512GB' ? 'selected' : '' %>>512 GB</option>
                        <option value="1TB" <%= product.specifications.storage.capacity === '1TB' ? 'selected' : '' %>>1 TB</option>
                        <option value="2TB" <%= product.specifications.storage.capacity === '2TB' ? 'selected' : '' %>>2 TB</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="display-size">Display Size:</label>
                    <input type="text" id="display-size" name="specifications[display][size]" value="<%= product.specifications.display && product.specifications.display.size ? product.specifications.display.size : '' %>" required>
                </div>
                
                <div class="form-group">
                    <label for="display-resolution">Display Resolution:</label>
                    <input type="text" id="display-resolution" name="specifications[display][resolution]" value="<%= product.specifications.display && product.specifications.display.resolution ? product.specifications.display.resolution : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="graphics-brand">Graphics Card Brand:</label>
                    <select id="graphics-brand" name="specifications[graphics][brand]" required>
                        <option value="" disabled>Select a graphics brand</option>
                        <option value="NVIDIA" <%= product.specifications.graphics && product.specifications.graphics.brand === 'NVIDIA' ? 'selected' : '' %>>NVIDIA</option>
                        <option value="AMD" <%= product.specifications.graphics && product.specifications.graphics.brand === 'AMD' ? 'selected' : '' %>>AMD</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="graphics-model">Graphics Model:</label>
                    <input type="text" id="graphics-model" name="specifications[graphics][model]" value="<%= product.specifications.graphics && product.specifications.graphics.model || '' %>" required>
                </div>
                <div class="form-group">
                    <label for="graphics-memory">Graphics Memory:</label>
                    <input type="text" id="graphics-memory" name="specifications[graphics][memory]" value="<%= product.specifications.graphics && product.specifications.graphics.memory || '' %>" required>
                </div>
                <div class="form-group">
                    <label for="battery-type">Battery Type:</label>
                    <select id="battery-type" name="specifications[battery][type]" required>
                        <option value="" disabled>Select battery type</option>
                        <option value="Lithium-ion" <%= product.specifications.battery && product.specifications.battery.type === 'Lithium-ion' ? 'selected' : '' %>>Lithium-ion</option>
                        <option value="Lithium-polymer" <%= product.specifications.battery && product.specifications.battery.type === 'Lithium-polymer' ? 'selected' : '' %>>Lithium-polymer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="battery-capacity">Battery Capacity:</label>
                    <input type="text" id="battery-capacity" name="specifications[battery][capacity]" value="<%= product.specifications.battery && product.specifications.battery.capacity || '' %>" required>
                </div>
                
                <div class="form-group">
                    <label for="os">Operating System:</label>
                    <select id="os" name="specifications[os]" required>
                        <option value="" disabled>Select operating system</option>
                        <option value="Windows" <%= product.specifications.os === 'Windows' ? 'selected' : '' %>>Windows</option>
                        <option value="macOS" <%= product.specifications.os === 'macOS' ? 'selected' : '' %>>macOS</option>
                        <option value="Linux" <%= product.specifications.os === 'Linux' ? 'selected' : '' %>>Linux</option>
                        <option value="Chrome OS" <%= product.specifications.os === 'Chrome OS' ? 'selected' : '' %>>Chrome OS</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="warranty">Warranty:</label>
                    <input type="text" id="warranty" name="warranty" value="<%= product.warranty || '' %>" required>
                </div>
                <div class="form-group">
                    <label for="image">Product Image:</label>
                    <input type="file" id="image" name="image">
                    <p>Current Image: <img src="<%= product.imageUrl || '' %>" alt="Current Product Image" style="max-width: 200px;"></p>
                </div>
                <button type="submit">Update Product</button>
            </form>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/2.9.2/cropper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


        <script src="/javascripts/admin/product"></script>
</body>

</html>